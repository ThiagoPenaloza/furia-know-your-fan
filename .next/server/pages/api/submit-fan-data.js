"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/submit-fan-data";
exports.ids = ["pages/api/submit-fan-data"];
exports.modules = {

/***/ "(api-node)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// lib/db.js\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error('Please define the MONGODB_URI environment variable');\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxZQUFZO0FBQ29CO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUUzQyxJQUFJLENBQUNBLGFBQWE7SUFDaEIsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkJILE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDLGFBQWFVLElBQUksQ0FBQyxDQUFDWDtZQUNuRCxPQUFPQTtRQUNUO0lBQ0Y7SUFDQUssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDbEMsT0FBT0gsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHRoaWFnXFxEZXNrdG9wXFxrbm93LXlvdXItZmFuXFxsaWJcXGRiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9kYi5qc1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlJyk7XHJcbn1cclxuXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkkpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgIHJldHVybiBtb25nb29zZTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xyXG4gIHJldHVybiBjYWNoZWQuY29ubjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGJDb25uZWN0O1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0IiwiY29ubmVjdCIsInRoZW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./lib/db.js\n");

/***/ }),

/***/ "(api-node)/./models/Fan.js":
/*!***********************!*\
  !*** ./models/Fan.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// models/Fan.js\n\nconst FanSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    cpf: {\n        type: String,\n        required: true\n    },\n    birthDate: {\n        type: Date,\n        required: true\n    },\n    phone: {\n        type: String,\n        required: true\n    },\n    address: {\n        street: {\n            type: String,\n            required: true\n        },\n        number: {\n            type: String,\n            required: true\n        },\n        complement: String,\n        neighborhood: {\n            type: String,\n            required: true\n        },\n        city: {\n            type: String,\n            required: true\n        },\n        state: {\n            type: String,\n            required: true\n        },\n        zipCode: {\n            type: String,\n            required: true\n        }\n    },\n    favoriteGames: [\n        String\n    ],\n    favoriteTeams: [\n        String\n    ],\n    favoritePlayers: [\n        String\n    ],\n    attendedEvents: [\n        String\n    ],\n    purchasedMerchandise: [\n        String\n    ],\n    socialMedia: {\n        instagram: String,\n        twitter: String,\n        facebook: String,\n        twitch: String,\n        youtube: String\n    },\n    gamingProfiles: {\n        steam: String,\n        epic: String,\n        battleNet: String,\n        riotGames: String,\n        origin: String\n    },\n    idDocument: String,\n    selfie: String // idem\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Fan || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Fan', FanSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21vZGVscy9GYW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZ0JBQWdCO0FBQ2dCO0FBRWhDLE1BQU1DLFlBQVksSUFBSUQsd0RBQWUsQ0FBQztJQUNwQ0csTUFBTTtRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDckNDLE9BQU87UUFBRUgsTUFBTUM7UUFBUUMsVUFBVTtRQUFNRSxRQUFRO0lBQUs7SUFDcERDLEtBQUs7UUFBRUwsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3BDSSxXQUFXO1FBQUVOLE1BQU1PO1FBQU1MLFVBQVU7SUFBSztJQUN4Q00sT0FBTztRQUFFUixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDdENPLFNBQVM7UUFDUEMsUUFBUTtZQUFFVixNQUFNQztZQUFRQyxVQUFVO1FBQUs7UUFDdkNTLFFBQVE7WUFBRVgsTUFBTUM7WUFBUUMsVUFBVTtRQUFLO1FBQ3ZDVSxZQUFZWDtRQUNaWSxjQUFjO1lBQUViLE1BQU1DO1lBQVFDLFVBQVU7UUFBSztRQUM3Q1ksTUFBTTtZQUFFZCxNQUFNQztZQUFRQyxVQUFVO1FBQUs7UUFDckNhLE9BQU87WUFBRWYsTUFBTUM7WUFBUUMsVUFBVTtRQUFLO1FBQ3RDYyxTQUFTO1lBQUVoQixNQUFNQztZQUFRQyxVQUFVO1FBQUs7SUFDMUM7SUFDQWUsZUFBZTtRQUFDaEI7S0FBTztJQUN2QmlCLGVBQWU7UUFBQ2pCO0tBQU87SUFDdkJrQixpQkFBaUI7UUFBQ2xCO0tBQU87SUFDekJtQixnQkFBZ0I7UUFBQ25CO0tBQU87SUFDeEJvQixzQkFBc0I7UUFBQ3BCO0tBQU87SUFDOUJxQixhQUFhO1FBQ1hDLFdBQVd0QjtRQUNYdUIsU0FBU3ZCO1FBQ1R3QixVQUFVeEI7UUFDVnlCLFFBQVF6QjtRQUNSMEIsU0FBUzFCO0lBQ1g7SUFDQTJCLGdCQUFnQjtRQUNkQyxPQUFPNUI7UUFDUDZCLE1BQU03QjtRQUNOOEIsV0FBVzlCO1FBQ1grQixXQUFXL0I7UUFDWGdDLFFBQVFoQztJQUNWO0lBQ0FpQyxZQUFZakM7SUFDWmtDLFFBQVFsQyxPQUFPLE9BQU87QUFDeEI7QUFFQSxpRUFBZUwsd0RBQWUsQ0FBQ3lDLEdBQUcsSUFBSXpDLHFEQUFjLENBQUMsT0FBT0MsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx0aGlhZ1xcRGVza3RvcFxca25vdy15b3VyLWZhblxcbW9kZWxzXFxGYW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbW9kZWxzL0Zhbi5qc1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgRmFuU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXHJcbiAgY3BmOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBiaXJ0aERhdGU6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBwaG9uZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgYWRkcmVzczoge1xyXG4gICAgc3RyZWV0OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIG51bWJlcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjb21wbGVtZW50OiBTdHJpbmcsXHJcbiAgICBuZWlnaGJvcmhvb2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgY2l0eTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBzdGF0ZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICB6aXBDb2RlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxyXG4gIH0sXHJcbiAgZmF2b3JpdGVHYW1lczogW1N0cmluZ10sXHJcbiAgZmF2b3JpdGVUZWFtczogW1N0cmluZ10sXHJcbiAgZmF2b3JpdGVQbGF5ZXJzOiBbU3RyaW5nXSxcclxuICBhdHRlbmRlZEV2ZW50czogW1N0cmluZ10sXHJcbiAgcHVyY2hhc2VkTWVyY2hhbmRpc2U6IFtTdHJpbmddLFxyXG4gIHNvY2lhbE1lZGlhOiB7XHJcbiAgICBpbnN0YWdyYW06IFN0cmluZyxcclxuICAgIHR3aXR0ZXI6IFN0cmluZyxcclxuICAgIGZhY2Vib29rOiBTdHJpbmcsXHJcbiAgICB0d2l0Y2g6IFN0cmluZyxcclxuICAgIHlvdXR1YmU6IFN0cmluZ1xyXG4gIH0sXHJcbiAgZ2FtaW5nUHJvZmlsZXM6IHtcclxuICAgIHN0ZWFtOiBTdHJpbmcsXHJcbiAgICBlcGljOiBTdHJpbmcsXHJcbiAgICBiYXR0bGVOZXQ6IFN0cmluZyxcclxuICAgIHJpb3RHYW1lczogU3RyaW5nLFxyXG4gICAgb3JpZ2luOiBTdHJpbmdcclxuICB9LFxyXG4gIGlkRG9jdW1lbnQ6IFN0cmluZywgLy8gYXJtYXplbmUgVVJMIG91IHJlZmVyw6puY2lhIG5vIEdyaWRGU1xyXG4gIHNlbGZpZTogU3RyaW5nIC8vIGlkZW1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuRmFuIHx8IG1vbmdvb3NlLm1vZGVsKCdGYW4nLCBGYW5TY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJGYW5TY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJjcGYiLCJiaXJ0aERhdGUiLCJEYXRlIiwicGhvbmUiLCJhZGRyZXNzIiwic3RyZWV0IiwibnVtYmVyIiwiY29tcGxlbWVudCIsIm5laWdoYm9yaG9vZCIsImNpdHkiLCJzdGF0ZSIsInppcENvZGUiLCJmYXZvcml0ZUdhbWVzIiwiZmF2b3JpdGVUZWFtcyIsImZhdm9yaXRlUGxheWVycyIsImF0dGVuZGVkRXZlbnRzIiwicHVyY2hhc2VkTWVyY2hhbmRpc2UiLCJzb2NpYWxNZWRpYSIsImluc3RhZ3JhbSIsInR3aXR0ZXIiLCJmYWNlYm9vayIsInR3aXRjaCIsInlvdXR1YmUiLCJnYW1pbmdQcm9maWxlcyIsInN0ZWFtIiwiZXBpYyIsImJhdHRsZU5ldCIsInJpb3RHYW1lcyIsIm9yaWdpbiIsImlkRG9jdW1lbnQiLCJzZWxmaWUiLCJtb2RlbHMiLCJGYW4iLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./models/Fan.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-fan-data&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csubmit-fan-data.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-fan-data&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csubmit-fan-data.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_submit_fan_data_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\submit-fan-data.js */ \"(api-node)/./pages/api/submit-fan-data.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_submit_fan_data_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_submit_fan_data_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_submit_fan_data_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_submit_fan_data_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/submit-fan-data\",\n        pathname: \"/api/submit-fan-data\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_submit_fan_data_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc3VibWl0LWZhbi1kYXRhJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNzdWJtaXQtZmFuLWRhdGEuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDNkQ7QUFDN0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDBEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywwREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxzdWJtaXQtZmFuLWRhdGEuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N1Ym1pdC1mYW4tZGF0YVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N1Ym1pdC1mYW4tZGF0YVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-fan-data&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csubmit-fan-data.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/submit-fan-data.js":
/*!**************************************!*\
  !*** ./pages/api/submit-fan-data.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/db */ \"(api-node)/./lib/db.js\");\n/* harmony import */ var _models_Fan__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/Fan */ \"(api-node)/./models/Fan.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_0__]);\nformidable__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// pages/api/submit-fan-data.js\n\n\n\n\n\n// Configuração para desabilitar o body parser padrão do Next.js\n// para poder processar o FormData com arquivos\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        // Conectar ao banco de dados\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        // Configurar o formidable para processar o upload de arquivos\n        const uploadDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'uploads');\n        // Garantir que o diretório de uploads existe\n        if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(uploadDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_1___default().mkdirSync(uploadDir, {\n                recursive: true\n            });\n        }\n        const form = new formidable__WEBPACK_IMPORTED_MODULE_0__.IncomingForm({\n            uploadDir,\n            keepExtensions: true,\n            maxFileSize: 10 * 1024 * 1024\n        });\n        // Processar o formulário\n        const [fields, files] = await new Promise((resolve, reject)=>{\n            form.parse(req, (err, fields, files)=>{\n                if (err) return reject(err);\n                resolve([\n                    fields,\n                    files\n                ]);\n            });\n        });\n        // Função auxiliar para obter o valor de um campo\n        const getFieldValue = (field)=>{\n            if (!field) return '';\n            return Array.isArray(field) ? field[0] : field;\n        };\n        // Processar os dados do formulário\n        const fanData = {\n            name: getFieldValue(fields.name),\n            email: getFieldValue(fields.email),\n            cpf: getFieldValue(fields.cpf),\n            birthDate: new Date(getFieldValue(fields.birthDate)),\n            phone: getFieldValue(fields.phone),\n            address: {\n                street: getFieldValue(fields['address.street']),\n                number: getFieldValue(fields['address.number']),\n                complement: getFieldValue(fields['address.complement']),\n                neighborhood: getFieldValue(fields['address.neighborhood']),\n                city: getFieldValue(fields['address.city']),\n                state: getFieldValue(fields['address.state']),\n                zipCode: getFieldValue(fields['address.zipCode'])\n            },\n            // Processar arrays - verificar se são strings JSON ou arrays\n            favoriteGames: processArrayField(fields.favoriteGames),\n            favoriteTeams: processArrayField(fields.favoriteTeams),\n            favoritePlayers: processArrayField(fields.favoritePlayers),\n            attendedEvents: processArrayField(fields.attendedEvents),\n            purchasedMerchandise: processArrayField(fields.purchasedMerchandise),\n            socialMedia: {\n                instagram: getFieldValue(fields['socialMedia.instagram']),\n                twitter: getFieldValue(fields['socialMedia.twitter']),\n                facebook: getFieldValue(fields['socialMedia.facebook']),\n                twitch: getFieldValue(fields['socialMedia.twitch']),\n                youtube: getFieldValue(fields['socialMedia.youtube'])\n            },\n            gamingProfiles: {\n                steam: getFieldValue(fields['gamingProfiles.steam']),\n                epic: getFieldValue(fields['gamingProfiles.epic']),\n                battleNet: getFieldValue(fields['gamingProfiles.battleNet']),\n                riotGames: getFieldValue(fields['gamingProfiles.riotGames']),\n                origin: getFieldValue(fields['gamingProfiles.origin'])\n            }\n        };\n        // Processar arquivos\n        if (files.idDocument && files.idDocument.filepath) {\n            // Em produção, você provavelmente faria upload para S3 ou outro serviço\n            // Aqui estamos apenas salvando o caminho do arquivo\n            const filename = path__WEBPACK_IMPORTED_MODULE_2___default().basename(files.idDocument.filepath);\n            fanData.idDocument = `/uploads/${filename}`;\n        }\n        if (files.selfie && files.selfie.filepath) {\n            const filename = path__WEBPACK_IMPORTED_MODULE_2___default().basename(files.selfie.filepath);\n            fanData.selfie = `/uploads/${filename}`;\n        }\n        // Salvar os dados no MongoDB\n        const fan = new _models_Fan__WEBPACK_IMPORTED_MODULE_4__[\"default\"](fanData);\n        await fan.save();\n        // Gerar um token simples para autenticação\n        const token = Buffer.from(`${fan._id}:${Date.now()}`).toString('base64');\n        // Retornar sucesso\n        return res.status(201).json({\n            success: true,\n            message: 'Dados salvos com sucesso',\n            token,\n            userId: fan._id\n        });\n    } catch (error) {\n        console.error('Error processing form submission:', error);\n        return res.status(500).json({\n            error: 'Internal server error',\n            details: error.message\n        });\n    }\n}\n// Função auxiliar para processar campos de array\nfunction processArrayField(field) {\n    if (!field) return [];\n    const value = Array.isArray(field) ? field[0] : field;\n    if (!value) return [];\n    try {\n        // Tentar fazer parse como JSON\n        return JSON.parse(value);\n    } catch (e) {\n        // Se não for JSON válido, dividir por vírgula\n        return value.split(',').map((item)=>item.trim()).filter(Boolean);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9zdWJtaXQtZmFuLWRhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQStCO0FBQ1c7QUFDdEI7QUFDSTtBQUNhO0FBQ0Y7QUFFbkMsZ0VBQWdFO0FBQ2hFLCtDQUErQztBQUN4QyxNQUFNSyxTQUFTO0lBQ3BCQyxLQUFLO1FBQ0hDLFlBQVk7SUFDZDtBQUNGLEVBQUU7QUFFYSxlQUFlQyxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDNUMsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsSUFBSTtRQUNGLDZCQUE2QjtRQUM3QixNQUFNWCxtREFBU0E7UUFFZiw4REFBOEQ7UUFDOUQsTUFBTVksWUFBWWIsZ0RBQVMsQ0FBQ2UsUUFBUUMsR0FBRyxJQUFJO1FBRTNDLDZDQUE2QztRQUM3QyxJQUFJLENBQUNqQixvREFBYSxDQUFDYyxZQUFZO1lBQzdCZCxtREFBWSxDQUFDYyxXQUFXO2dCQUFFTSxXQUFXO1lBQUs7UUFDNUM7UUFFQSxNQUFNQyxPQUFPLElBQUl0QixvREFBWUEsQ0FBQztZQUM1QmU7WUFDQVEsZ0JBQWdCO1lBQ2hCQyxhQUFhLEtBQUssT0FBTztRQUMzQjtRQUVBLHlCQUF5QjtRQUN6QixNQUFNLENBQUNDLFFBQVFDLE1BQU0sR0FBRyxNQUFNLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDbERQLEtBQUtRLEtBQUssQ0FBQ3JCLEtBQUssQ0FBQ3NCLEtBQUtOLFFBQVFDO2dCQUM1QixJQUFJSyxLQUFLLE9BQU9GLE9BQU9FO2dCQUN2QkgsUUFBUTtvQkFBQ0g7b0JBQVFDO2lCQUFNO1lBQ3pCO1FBQ0Y7UUFFQSxpREFBaUQ7UUFDakQsTUFBTU0sZ0JBQWdCLENBQUNDO1lBQ3JCLElBQUksQ0FBQ0EsT0FBTyxPQUFPO1lBQ25CLE9BQU9DLE1BQU1DLE9B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QUc7UUFDakI7SUFDRixFQUFFLE9BQU9qRSxPQUFPO1FBQ2R1RSxRQUFRdkUsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBT0osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsT0FBTztZQUNQd0UsU0FBU3hFLE1BQU1xRSxPQUFPO1FBQ3hCO0lBQ0Y7QUFDRjtBQUVBLGlEQUFpRDtBQUNqRCxTQUFTL0Isa0JBQWtCbkIsS0FBSztJQUM5QixJQUFJLENBQUNBLE9BQU8sT0FBTyxFQUFFO0lBRXJCLE1BQU1zRCxRQUFRckQsTUFBTUMsT0FBTyxDQUFDRixTQUFTQSxLQUFLLENBQUMsRUFBRSxHQUFHQTtJQUVoRCxJQUFJLENBQUNzRCxPQUFPLE9BQU8sRUFBRTtJQUVyQixJQUFJO1FBQ0YsK0JBQStCO1FBQy9CLE9BQU9DLEtBQUsxRCxLQUFLLENBQUN5RDtJQUNwQixFQUFFLE9BQU9FLEdBQUc7UUFDViw4Q0FBOEM7UUFDOUMsT0FBT0YsTUFBTUcsS0FBSyxDQUFDLEtBQUtDLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsSUFBSSxJQUFJQyxNQUFNLENBQUNDO0lBQzFEO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGhpYWdcXERlc2t0b3BcXGtub3cteW91ci1mYW5cXHBhZ2VzXFxhcGlcXHN1Ym1pdC1mYW4tZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvc3VibWl0LWZhbi1kYXRhLmpzXHJcbmltcG9ydCB7IEluY29taW5nRm9ybSB9IGZyb20gJ2Zvcm1pZGFibGUnO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IGRiQ29ubmVjdCBmcm9tICcuLi8uLi9saWIvZGInO1xyXG5pbXBvcnQgRmFuIGZyb20gJy4uLy4uL21vZGVscy9GYW4nO1xyXG5cclxuLy8gQ29uZmlndXJhw6fDo28gcGFyYSBkZXNhYmlsaXRhciBvIGJvZHkgcGFyc2VyIHBhZHLDo28gZG8gTmV4dC5qc1xyXG4vLyBwYXJhIHBvZGVyIHByb2Nlc3NhciBvIEZvcm1EYXRhIGNvbSBhcnF1aXZvc1xyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGFwaToge1xyXG4gICAgYm9keVBhcnNlcjogZmFsc2UsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gQ29uZWN0YXIgYW8gYmFuY28gZGUgZGFkb3NcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgXHJcbiAgICAvLyBDb25maWd1cmFyIG8gZm9ybWlkYWJsZSBwYXJhIHByb2Nlc3NhciBvIHVwbG9hZCBkZSBhcnF1aXZvc1xyXG4gICAgY29uc3QgdXBsb2FkRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICd1cGxvYWRzJyk7XHJcbiAgICBcclxuICAgIC8vIEdhcmFudGlyIHF1ZSBvIGRpcmV0w7NyaW8gZGUgdXBsb2FkcyBleGlzdGVcclxuICAgIGlmICghZnMuZXhpc3RzU3luYyh1cGxvYWREaXIpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSh7XHJcbiAgICAgIHVwbG9hZERpcixcclxuICAgICAga2VlcEV4dGVuc2lvbnM6IHRydWUsXHJcbiAgICAgIG1heEZpbGVTaXplOiAxMCAqIDEwMjQgKiAxMDI0LCAvLyAxME1CXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBQcm9jZXNzYXIgbyBmb3JtdWzDoXJpb1xyXG4gICAgY29uc3QgW2ZpZWxkcywgZmlsZXNdID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBmb3JtLnBhcnNlKHJlcSwgKGVyciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKTtcclxuICAgICAgICByZXNvbHZlKFtmaWVsZHMsIGZpbGVzXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRnVuw6fDo28gYXV4aWxpYXIgcGFyYSBvYnRlciBvIHZhbG9yIGRlIHVtIGNhbXBvXHJcbiAgICBjb25zdCBnZXRGaWVsZFZhbHVlID0gKGZpZWxkKSA9PiB7XHJcbiAgICAgIGlmICghZmllbGQpIHJldHVybiAnJztcclxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZmllbGQpID8gZmllbGRbMF0gOiBmaWVsZDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gUHJvY2Vzc2FyIG9zIGRhZG9zIGRvIGZvcm11bMOhcmlvXHJcbiAgICBjb25zdCBmYW5EYXRhID0ge1xyXG4gICAgICBuYW1lOiBnZXRGaWVsZFZhbHVlKGZpZWxkcy5uYW1lKSxcclxuICAgICAgZW1haWw6IGdldEZpZWxkVmFsdWUoZmllbGRzLmVtYWlsKSxcclxuICAgICAgY3BmOiBnZXRGaWVsZFZhbHVlKGZpZWxkcy5jcGYpLFxyXG4gICAgICBiaXJ0aERhdGU6IG5ldyBEYXRlKGdldEZpZWxkVmFsdWUoZmllbGRzLmJpcnRoRGF0ZSkpLFxyXG4gICAgICBwaG9uZTogZ2V0RmllbGRWYWx1ZShmaWVsZHMucGhvbmUpLFxyXG4gICAgICBcclxuICAgICAgYWRkcmVzczoge1xyXG4gICAgICAgIHN0cmVldDogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ2FkZHJlc3Muc3RyZWV0J10pLFxyXG4gICAgICAgIG51bWJlcjogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ2FkZHJlc3MubnVtYmVyJ10pLFxyXG4gICAgICAgIGNvbXBsZW1lbnQ6IGdldEZpZWxkVmFsdWUoZmllbGRzWydhZGRyZXNzLmNvbXBsZW1lbnQnXSksXHJcbiAgICAgICAgbmVpZ2hib3Job29kOiBnZXRGaWVsZFZhbHVlKGZpZWxkc1snYWRkcmVzcy5uZWlnaGJvcmhvb2QnXSksXHJcbiAgICAgICAgY2l0eTogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ2FkZHJlc3MuY2l0eSddKSxcclxuICAgICAgICBzdGF0ZTogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ2FkZHJlc3Muc3RhdGUnXSksXHJcbiAgICAgICAgemlwQ29kZTogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ2FkZHJlc3MuemlwQ29kZSddKSxcclxuICAgICAgfSxcclxuICAgICAgXHJcbiAgICAgIC8vIFByb2Nlc3NhciBhcnJheXMgLSB2ZXJpZmljYXIgc2Ugc8OjbyBzdHJpbmdzIEpTT04gb3UgYXJyYXlzXHJcbiAgICAgIGZhdm9yaXRlR2FtZXM6IHByb2Nlc3NBcnJheUZpZWxkKGZpZWxkcy5mYXZvcml0ZUdhbWVzKSxcclxuICAgICAgZmF2b3JpdGVUZWFtczogcHJvY2Vzc0FycmF5RmllbGQoZmllbGRzLmZhdm9yaXRlVGVhbXMpLFxyXG4gICAgICBmYXZvcml0ZVBsYXllcnM6IHByb2Nlc3NBcnJheUZpZWxkKGZpZWxkcy5mYXZvcml0ZVBsYXllcnMpLFxyXG4gICAgICBhdHRlbmRlZEV2ZW50czogcHJvY2Vzc0FycmF5RmllbGQoZmllbGRzLmF0dGVuZGVkRXZlbnRzKSxcclxuICAgICAgcHVyY2hhc2VkTWVyY2hhbmRpc2U6IHByb2Nlc3NBcnJheUZpZWxkKGZpZWxkcy5wdXJjaGFzZWRNZXJjaGFuZGlzZSksXHJcbiAgICAgIFxyXG4gICAgICBzb2NpYWxNZWRpYToge1xyXG4gICAgICAgIGluc3RhZ3JhbTogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ3NvY2lhbE1lZGlhLmluc3RhZ3JhbSddKSxcclxuICAgICAgICB0d2l0dGVyOiBnZXRGaWVsZFZhbHVlKGZpZWxkc1snc29jaWFsTWVkaWEudHdpdHRlciddKSxcclxuICAgICAgICBmYWNlYm9vazogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ3NvY2lhbE1lZGlhLmZhY2Vib29rJ10pLFxyXG4gICAgICAgIHR3aXRjaDogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ3NvY2lhbE1lZGlhLnR3aXRjaCddKSxcclxuICAgICAgICB5b3V0dWJlOiBnZXRGaWVsZFZhbHVlKGZpZWxkc1snc29jaWFsTWVkaWEueW91dHViZSddKSxcclxuICAgICAgfSxcclxuICAgICAgXHJcbiAgICAgIGdhbWluZ1Byb2ZpbGVzOiB7XHJcbiAgICAgICAgc3RlYW06IGdldEZpZWxkVmFsdWUoZmllbGRzWydnYW1pbmdQcm9maWxlcy5zdGVhbSddKSxcclxuICAgICAgICBlcGljOiBnZXRGaWVsZFZhbHVlKGZpZWxkc1snZ2FtaW5nUHJvZmlsZXMuZXBpYyddKSxcclxuICAgICAgICBiYXR0bGVOZXQ6IGdldEZpZWxkVmFsdWUoZmllbGRzWydnYW1pbmdQcm9maWxlcy5iYXR0bGVOZXQnXSksXHJcbiAgICAgICAgcmlvdEdhbWVzOiBnZXRGaWVsZFZhbHVlKGZpZWxkc1snZ2FtaW5nUHJvZmlsZXMucmlvdEdhbWVzJ10pLFxyXG4gICAgICAgIG9yaWdpbjogZ2V0RmllbGRWYWx1ZShmaWVsZHNbJ2dhbWluZ1Byb2ZpbGVzLm9yaWdpbiddKSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgLy8gUHJvY2Vzc2FyIGFycXVpdm9zXHJcbiAgICBpZiAoZmlsZXMuaWREb2N1bWVudCAmJiBmaWxlcy5pZERvY3VtZW50LmZpbGVwYXRoKSB7XHJcbiAgICAgIC8vIEVtIHByb2R1w6fDo28sIHZvY8OqIHByb3ZhdmVsbWVudGUgZmFyaWEgdXBsb2FkIHBhcmEgUzMgb3Ugb3V0cm8gc2VydmnDp29cclxuICAgICAgLy8gQXF1aSBlc3RhbW9zIGFwZW5hcyBzYWx2YW5kbyBvIGNhbWluaG8gZG8gYXJxdWl2b1xyXG4gICAgICBjb25zdCBmaWxlbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZXMuaWREb2N1bWVudC5maWxlcGF0aCk7XHJcbiAgICAgIGZhbkRhdGEuaWREb2N1bWVudCA9IGAvdXBsb2Fkcy8ke2ZpbGVuYW1lfWA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbGVzLnNlbGZpZSAmJiBmaWxlcy5zZWxmaWUuZmlsZXBhdGgpIHtcclxuICAgICAgY29uc3QgZmlsZW5hbWUgPSBwYXRoLmJhc2VuYW1lKGZpbGVzLnNlbGZpZS5maWxlcGF0aCk7XHJcbiAgICAgIGZhbkRhdGEuc2VsZmllID0gYC91cGxvYWRzLyR7ZmlsZW5hbWV9YDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTYWx2YXIgb3MgZGFkb3Mgbm8gTW9uZ29EQlxyXG4gICAgY29uc3QgZmFuID0gbmV3IEZhbihmYW5EYXRhKTtcclxuICAgIGF3YWl0IGZhbi5zYXZlKCk7XHJcblxyXG4gICAgLy8gR2VyYXIgdW0gdG9rZW4gc2ltcGxlcyBwYXJhIGF1dGVudGljYcOnw6NvXHJcbiAgICBjb25zdCB0b2tlbiA9IEJ1ZmZlci5mcm9tKGAke2Zhbi5faWR9OiR7RGF0ZS5ub3coKX1gKS50b1N0cmluZygnYmFzZTY0Jyk7XHJcblxyXG4gICAgLy8gUmV0b3JuYXIgc3VjZXNzb1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ0RhZG9zIHNhbHZvcyBjb20gc3VjZXNzbycsXHJcbiAgICAgIHRva2VuLFxyXG4gICAgICB1c2VySWQ6IGZhbi5faWRcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGZvcm0gc3VibWlzc2lvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcclxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLCBcclxuICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSBcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRnVuw6fDo28gYXV4aWxpYXIgcGFyYSBwcm9jZXNzYXIgY2FtcG9zIGRlIGFycmF5XHJcbmZ1bmN0aW9uIHByb2Nlc3NBcnJheUZpZWxkKGZpZWxkKSB7XHJcbiAgaWYgKCFmaWVsZCkgcmV0dXJuIFtdO1xyXG4gIFxyXG4gIGNvbnN0IHZhbHVlID0gQXJyYXkuaXNBcnJheShmaWVsZCkgPyBmaWVsZFswXSA6IGZpZWxkO1xyXG4gIFxyXG4gIGlmICghdmFsdWUpIHJldHVybiBbXTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gVGVudGFyIGZhemVyIHBhcnNlIGNvbW8gSlNPTlxyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIFNlIG7Do28gZm9yIEpTT04gdsOhbGlkbywgZGl2aWRpciBwb3IgdsOtcmd1bGFcclxuICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnLCcpLm1hcChpdGVtID0+IGl0ZW0udHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJJbmNvbWluZ0Zvcm0iLCJmcyIsInBhdGgiLCJkYkNvbm5lY3QiLCJGYW4iLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInVwbG9hZERpciIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImZvcm0iLCJrZWVwRXh0ZW5zaW9ucyIsIm1heEZpbGVTaXplIiwiZmllbGRzIiwiZmlsZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInBhcnNlIiwiZXJyIiwiZ2V0RmllbGRWYWx1ZSIsImZpZWxkIiwiQXJyYXkiLCJpc0FycmF5IiwiZmFuRGF0YSIsIm5hbWUiLCJlbWFpbCIsImNwZiIsImJpcnRoRGF0ZSIsIkRhdGUiLCJwaG9uZSIsImFkZHJlc3MiLCJzdHJlZXQiLCJudW1iZXIiLCJjb21wbGVtZW50IiwibmVpZ2hib3Job29kIiwiY2l0eSIsInN0YXRlIiwiemlwQ29kZSIsImZhdm9yaXRlR2FtZXMiLCJwcm9jZXNzQXJyYXlGaWVsZCIsImZhdm9yaXRlVGVhbXMiLCJmYXZvcml0ZVBsYXllcnMiLCJhdHRlbmRlZEV2ZW50cyIsInB1cmNoYXNlZE1lcmNoYW5kaXNlIiwic29jaWFsTWVkaWEiLCJpbnN0YWdyYW0iLCJ0d2l0dGVyIiwiZmFjZWJvb2siLCJ0d2l0Y2giLCJ5b3V0dWJlIiwiZ2FtaW5nUHJvZmlsZXMiLCJzdGVhbSIsImVwaWMiLCJiYXR0bGVOZXQiLCJyaW90R2FtZXMiLCJvcmlnaW4iLCJpZERvY3VtZW50IiwiZmlsZXBhdGgiLCJmaWxlbmFtZSIsImJhc2VuYW1lIiwic2VsZmllIiwiZmFuIiwic2F2ZSIsInRva2VuIiwiQnVmZmVyIiwiZnJvbSIsIl9pZCIsIm5vdyIsInRvU3RyaW5nIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ1c2VySWQiLCJjb25zb2xlIiwiZGV0YWlscyIsInZhbHVlIiwiSlNPTiIsImUiLCJzcGxpdCIsIm1hcCIsIml0ZW0iLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/submit-fan-data.js\n");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsubmit-fan-data&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csubmit-fan-data.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();